<mat-toolbar color="primary">
  <a 
    routerLink="/" 
    class="logo-link"
    [class.disabled]="isTimerRunning"
    [matTooltip]="isTimerRunning ? 'Pause timer to navigate home' : ''"
    (click)="isTimerRunning && $event.preventDefault()"
  >
    <img src="icons/icon-72x72.png" alt="FocusGo" class="app-logo" />
    <span class="toolbar-title">FocusGo</span>
  </a>
  <span class="spacer"></span>

  <button
    mat-button
    routerLink="/"
    routerLinkActive="active-route"
    [routerLinkActiveOptions]="{ exact: true }"
  >
    <mat-icon>timer</mat-icon>
    Timer
  </button>
  <button 
    mat-button 
    routerLink="/coach" 
    routerLinkActive="active-route"
    [disabled]="isTimerRunning"
    [matTooltip]="isTimerRunning ? 'Pause timer to access AI Coach' : ''"
  >
    <mat-icon>support_agent</mat-icon>
    AI Coach
  </button>

  @if (!currentUser) {
    <button mat-button class="sign-in-button" (click)="signIn()">
      <mat-icon>login</mat-icon>
      Sign in
    </button>
  } @else {
    <button 
      mat-button 
      [matMenuTriggerFor]="userMenu"
      [disabled]="isTimerRunning"
      [matTooltip]="isTimerRunning ? 'Pause timer to sign out' : ''"
    >
      <mat-icon>account_circle</mat-icon>
      {{ currentUser.displayName || currentUser.email }}
    </button>
    <mat-menu #userMenu="matMenu">
      <button mat-menu-item (click)="signOut()">
        <mat-icon>logout</mat-icon>
        Sign out
      </button>
    </mat-menu>
  }
</mat-toolbar>

<router-outlet></router-outlet>
